id: a4348f2bddd64e71adc7fccdc40f939a
parent_id: 308a23ec7366409fbef89fc7a350d55e
item_type: 1
item_id: 49751f36f7814f9cbe136f9d5d78a1cf
item_updated_time: 1759083728118
title_diff: "[{\"diffs\":[[-1,\"3D CAPTURE\"],[1,\"readme.md\"]],\"start1\":0,\"start2\":0,\"length1\":10,\"length2\":9}]"
body_diff: "[{\"diffs\":[[1,\"# DIY Mocap & Pipeline Overview (Everything We Covered)\\\n\\\n---\\\n\\\n## Table of Contents\\\n\\\n* [1. QuickMagic — What It Is](#1-quickmagic--what-it-is)\\\n* [2. ARKit (iPhone) — What It Buys You](#2-arkit-iphone--what-it-buys-you)\\\n* [3. “Video of a Video” With ARKit](#3-video-of-a-video-with-arkit)\\\n* [4. Multi-Person Capture](#4-multi-person-capture)\\\n* [5. Apple Watch As Supplement](#5-apple-watch-as-supplement)\\\n* [6. Latency Cheat Sheet](#6-latency-cheat-sheet)\\\n* [7. Base Stations (SteamVR/Vive) Basics](#7-base-stations-steamvrvive-basics)\\\n* [8. Processing Load — Where The Work Actually Happens](#8-processing-load--where-the-work-actually-happens)\\\n* [9. Hybrid: ARKit + Base Stations](#9-hybrid-arkit--base-stations)\\\n* [10. SlimeVR — What It Is & Mixing With Lighthouses](#10-slimevr--what-it-is--mixing-with-lighthouses)\\\n* [11. DIY Lighthouses? (Short Answer: No)](#11-diy-lighthouses-short-answer-no)\\\n* [12. Old-School Optical: Reflective vs Active LED Markers](#12-old-school-optical-reflective-vs-active-led-markers)\\\n* [13. Cameras For DIY Optical](#13-cameras-for-diy-optical)\\\n* [14. Best Webcams — Ranked](#14-best-webcams--ranked)\\\n* [15. PS4 Camera Notes](#15-ps4-camera-notes)\\\n* [16. How Many PS3 Eye Cameras?](#16-how-many-ps3-eye-cameras)\\\n* [17. Ten-Camera PS3 Eye Rig — Cost](#17-ten-camera-ps3-eye-rig--cost)\\\n* [18. Joy-Cons & PlayStation Controllers As Trackers](#18-joy-cons--playstation-controllers-as-trackers)\\\n* [19. Building SlimeVR-Style Sensors (BNO055 → Better Options)](#19-building-slimevr-style-sensors-bno055--better-options)\\\n* [20. Push Processing On-Sensor (Minimize Bandwidth, Max Accuracy)](#20-push-processing-on-sensor-minimize-bandwidth-max-accuracy)\\\n* [21. Sensor Packet — What To Transmit](#21-sensor-packet--what-to-transmit)\\\n* [22. Housing & Mounting Options](#22-housing--mounting-options)\\\n* [23. Do 9-DoF Sensors Need Base Stations?](#23-do-9-dof-sensors-need-base-stations)\\\n* [24. Sensor “Lifetime” (Runtime, Drift Window, Years)](#24-sensor-lifetime-runtime-drift-window-years)\\\n* [25. Recommended Next Steps](#25-recommended-next-steps)\\\n\\\n---\\\n\\\n## 1. QuickMagic — What It Is\\\n\\\n* Cloud service that turns **2D video into 3D mocap** (skeleton) using pose estimation, 3D lifting, smoothing, and retargeting.\\\n* You can replicate most of this locally with open components; polish and edge-case handling take work.\\\n\\\n---\\\n\\\n## 2. ARKit (iPhone) — What It Buys You\\\n\\\n* **Direct 3D body skeleton** in real-time (skips the heavy 2D→3D step).\\\n* Optional **face blendshapes** (TrueDepth).\\\n* Streams to Mac/PC; you retarget in Blender/Unreal/Unity.\\\n* Cuts out the worst pain points of pure video-to-mocap.\\\n\\\n---\\\n\\\n## 3. “Video of a Video” With ARKit\\\n\\\n* Works for quick/rough tests: ARKit will track a person shown on a monitor.\\\n* Loses depth cues → more jitter/flip. Use only for previz, not hero capture.\\\n\\\n---\\\n\\\n## 4. Multi-Person Capture\\\n\\\n* **ARKit**: single-person only.\\\n* Solutions: capture people sequentially, use multiple iPhones, or switch to multi-person AI pipelines or optical/VR tracker systems.\\\n\\\n---\\\n\\\n## 5. Apple Watch As Supplement\\\n\\\n* Acts as **extra IMUs** (wrist/arm refinement).\\\n* Good for correcting arm/wrist rotations that ARKit guesses poorly.\\\n* Not a full-body solution; best when **fused** with ARKit/base stations.\\\n\\\n---\\\n\\\n## 6. Latency Cheat Sheet\\\n\\\n* **ARKit iPhone → skeleton**: ~40–70 ms end-to-end.\\\n* **Apple Watch IMU → PC**: ~50–100 ms.\\\n* **SteamVR/Lighthouses**: ~5–20 ms.\\\n* Hybrid fusion typically lands **~80–120 ms**.\\\n\\\n---\\\n\\\n## 7. Base Stations (SteamVR/Vive) Basics\\\n\\\n* “Vive base stations” **are** SteamVR lighthouses (Valve tech).\\\n* **1.0 vs 2.0** (buy 2.0 today): larger area, up to 4 stations, tighter tracking.\\\n* Sub-mm accuracy, low latency, scales to multi-actor.\\\n\\\n---\\\n\\\n## 8. Processing Load — Where The Work Actually Happens\\\n\\\n* **ARKit pipeline**: phone does the heavy lifting; PC mostly retargets.\\\n* **Optical DIY (webcams)**:\\\n\\\n  * CPU/GPU: blob detection (heavy), triangulation (light), IK (medium).\\\n  * USB controllers become a real bottleneck at scale.\\\n* **Base stations**: low compute; the 3D app (Unreal/Blender) is the heavy part.\\\n\\\n---\\\n\\\n## 9. Hybrid: ARKit + Base Stations\\\n\\\n* Track **hips/feet/hands** with lighthouses for absolute, low-latency anchors.\\\n* Fill **spine/neck/head** with ARKit skeleton.\\\n* Fuse in engine (Control Rig/FinalIK) → fewer pucks, better coverage.\\\n* Calibration + time-sync is the tax.\\\n\\\n---\\\n\\\n## 10. SlimeVR — What It Is & Mixing With Lighthouses\\\n\\\n* **IMU-only** full-body via ESP32 + 6/9/11 sensors; rotation-only, no absolute position.\\\n* Combine with **headset/controllers or a few Vive trackers** to kill drift and anchor root.\\\n\\\n---\\\n\\\n## 11. DIY Lighthouses? (Short Answer: No)\\\n\\\n* Hardware is complex (IR lasers + rotating optics + timing) and **patented**.\\\n* Doable alternatives: IMU suits (SlimeVR), depth cameras, or buy used lighthouses.\\\n\\\n---\\\n\\\n## 12. Old-School Optical: Reflective vs Active LED Markers\\\n\\\n* **Passive (reflective balls)**: pro-grade, expensive multi-IR camera arrays (Vicon/OptiTrack).\\\n* **Active (LEDs)**: DIY-friendly — multiple webcams + OpenCV blob detection + triangulation.\\\n* Active is your realistic “garage Vicon.”\\\n\\\n---\\\n\\\n## 13. Cameras For DIY Optical\\\n\\\n* **IR security cams**: cheap, but low fps + compression = meh for mocap.\\\n* **iPhones**: great cams; syncing multiple is the pain.\\\n* **Webcams / PS Eye / PS4 cam**: cheap, high fps, huge DIY community.\\\n* **Depth cams** (Kinect/RealSense): solid markerless complement; limited FOV/occlusion.\\\n\\\n---\\\n\\\n## 14. Best Webcams — Ranked\\\n\\\n* **Budget king**: **PS3 Eye** (640×480@60 / 320×240@120), easy IR mod, $10–15 used.\\\n* **General purpose**: **Logitech C922/C930e** (720p@60), fewer DIY mods.\\\n* **Mid-tier**: **PS4 Camera** (1280×800@60) w/ USB adapter, fewer guides.\\\n* **Serious DIY**: **ELP/industrial global-shutter USB** cams (60–120 fps), $50–100+.\\\n* **Pro**: Basler/FLIR/IDS (expensive, excellent).\\\n\\\n---\\\n\\\n## 15. PS4 Camera Notes\\\n\\\n* Dual lenses, 1280×800@60, requires USB adapter + community driver.\\\n* Sharper than PS Eye; less hack-friendly than PS Eye, cheaper than industrial.\\\n\\\n---\\\n\\\n## 16. How Many PS3 Eye Cameras?\\\n\\\n* **3** = bare minimum triangulation (fragile to occlusion).\\\n* **4** = practical baseline (single actor).\\\n* **6** = sweet spot (full-body reliability).\\\n* **8–10** = multi-actor / studio-ish; more calibration/USB pain.\\\n\\\n---\\\n\\\n## 17. Ten-Camera PS3 Eye Rig — Cost\\\n\\\n* **Cams**: $100–150\\\n* **USB PCIe cards (bandwidth)**: $125–200\\\n* **Mounts**: $100–150\\\n* **Markers/LEDs**: $50–100\\\n* **PC (if needed)**: $0–900\\\n* **Misc**: $100–175\\\n* **Total**: **$475–$1,675** (lower if you already have the PC)\\\n\\\n---\\\n\\\n## 18. Joy-Cons & PlayStation Controllers As Trackers\\\n\\\n* **Joy-Cons**: good IMUs over Bluetooth; rotation only; pair like SlimeVR nodes.\\\n* **PS Move**: glowing orb + IMU → excellent active optical markers with PS Eye/OpenCV.\\\n* **DualShock/DualSense**: usable but bulky.\\\n\\\n---\\\n\\\n## 19. Building SlimeVR-Style Sensors (BNO055 → Better Options)\\\n\\\n* Your pick: **BNO055** (on-chip fusion; easy, but dated).\\\n* Better: **BNO085/BNO080** (Hillcrest SH-2 fusion; smoother, higher-rate).\\\n* DIY fusion route: **ICM-20948** (DMP) or **BMI270+BMM150** with Madgwick/Mahony on MCU.\\\n\\\n**Per sensor BOM (realistic):**\\\n\\\n* BNO085: $25–40\\\n* ESP32-S3 dev board: $6–12\\\n* LiPo 750–1000 mAh: $8–12\\\n* Case/strap/wiring: $5–8\\\n* **≈ $45–70 per node**\\\n\\\n---\\\n\\\n## 20. Push Processing On-Sensor (Minimize Bandwidth, Max Accuracy)\\\n\\\n* Do **fusion on the node** (BNO085 or MCU filter).\\\n* **SPI** bus to IMU (less jitter than I²C).\\\n* **Timestamp at read**; downsample to 100–200 Hz for radio.\\\n* **ESP-NOW** (preferred) or UDP Wi-Fi; **avoid BLE** for this use.\\\n\\\n---\\\n\\\n## 21. Sensor Packet — What To Transmit\\\n\\\nSend only the essentials — quaternion + timestamp (+ optional gyro). Fixed-point, compact.\\\n\\\n```c\\\n// ~20–24 bytes\\\nstruct PosePkt {\\\n  uint32_t t_us;          // microsecond timestamp (monotonic)\\\n  int16_t  qx, qy, qz, qw; // quaternion (Q15)\\\n  int16_t  wx, wy, wz;     // optional: angular velocity (rad/s * 1000)\\\n  uint8_t  id;             // sensor id\\\n  uint8_t  flags;          // calib_ok, mag_used, fifo_overrun, etc.\\\n};\\\n```\\\n\\\n**Rates:** 100–200 Hz per node. Ten nodes ≈ a few KB/s total. Trivial.\\\n\\\n---\\\n\\\n## 22. Housing & Mounting Options\\\n\\\n* **3D-printed cases (PETG/ABS)** with strap slots — best all-around.\\\n* **Off-the-shelf ABS boxes** + Velcro (bulkier, easy).\\\n* **Soft pouches** with a stiff backing plate (comfy; watch wobble).\\\n* **Hybrid hard-shell + sports armband** (rigid electronics, comfy wear).\\\n* **Sewn-in garments** (pro feel; harder to service).\\\n\\\nKey rules: rigid IMU orientation, consistent mounting, USB-C access, insulated LiPo, orientation arrow on case.\\\n\\\n---\\\n\\\n## 23. Do 9-DoF Sensors Need Base Stations?\\\n\\\n* **No.** 9-DoF IMUs can run fully standalone (orientation only).\\\n* **Tradeoff:** yaw drift over time and no true world position.\\\n* Common hybrid: add **one absolute anchor** (lighthouse puck or UWB hip tag) to kill root drift.\\\n\\\n---\\\n\\\n## 24. Sensor “Lifetime” (Runtime, Drift Window, Years)\\\n\\\n* **Per charge:** 6–10 h with 750–1000 mAh LiPo (ESP-NOW helps).\\\n* **Drift window:** 10–20 min before noticeable yaw creep without rebias; hours with periodic stillness rebias.\\\n* **Hardware life:** 5+ years electronics; **LiPo** 300–500 cycles (plan to replace yearly-ish under heavy use).\\\n\\\n---\\\n\\\n## 25. Recommended Next Steps\\\n\\\n### A) If you want **fastest path to usable capture**\\\n\\\n1. Use **ARKit** on iPhone for body; export & retarget in Blender/Unreal.\\\n2. Add **Apple Watch** (optional) for wrist refinement.\\\n3. Accept ~40–70 ms latency, single actor.\\\n\\\n### B) If you want **IMU suit (no cameras)**\\\n\\\n1. Build **7–9 BNO085 + ESP32-S3** nodes (hips, chest, head, shins, forearms, feet).\\\n2. Firmware: on-node fusion, **ESP-NOW**, 100–200 Hz quats, timestamps.\\\n3. SlimeVR server → retarget.\\\n4. Consider **one anchor** later (lighthouse hip puck or UWB) to kill root drift.\\\n\\\n### C) If you want **optical DIY**\\\n\\\n1. Start with **6× PS3 Eye** cams, IR LED markers, OpenCV blob + triangulation.\\\n2. Scale to **10 cams** if you need multi-actor.\\\n3. Expect calibration and USB bandwidth wrangling.\\\n\\\n### D) If you want **low-latency precision**\\\n\\\n1. Buy **SteamVR 2.0 base stations** (2–4) + **Vive trackers** (hips/feet/hands).\\\n2. Optionally fuse with **ARKit** (spine/head) or **IMU suit** (joints).\\\n3. Live retarget in Unreal/Unity (Control Rig/FinalIK).\\\n\\\n### E) Quality & comfort upgrades (any path)\\\n\\\n* **Housings**: print PETG cases; standardize strap positions/orientation.\\\n* **Power**: move to **hot-swappable cells** or pogo-pin charge docks.\\\n* **Calibration**: store per-unit biases in NVS; add quick T-pose align.\\\n* **Time sync**: implement startup beacon + rolling offset correction.\\\n\\\n---\\\n\\\nIf you tell me which path (A/B/C/D) you want to execute first, I’ll lay down a concrete **shopping list + wiring + software checklist** so you can build it straight through with no guesswork.\\\n\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":10852}]"
metadata_diff: {"new":{"user_updated_time":1759082306368,"deleted_time":1759083728118},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2025-09-28T18:23:32.063Z
created_time: 2025-09-28T18:23:32.063Z
type_: 13